# tsubakuro-rust-core ロギング方針

tsubakuro-rust-coreのログ出力の方針は以下の通りとする。

## 依存ライブラリー

- ログ出力にはlogクレートを使用する。
  - tsubakuro-rust-coreには（env_logger等の）ログ出力の実装は含めない。

## ログレベル

- DBサーバーとの通信を行うAPIでは、その前後でTRACEログを出力する。
- フォアグラウンドスレッド
  - ユーザーにエラーを返す場合はログ出力しない。
    - 場合によってはデータを示すためのTRACEログを出力する。
  - どこにもエラーを返さない（エラーをサプレスする）場合はERRORログまたはWARNログを出力する。
    - 例えばdropメソッド内でRuntimeを作れない場合は致命的なのでERRORログ、close処理のエラーはWARNログ
- バックグラウンドスレッド
  - 開始・終了時にTRACEログを出力する。
  - どこにもエラーを返さない場合はERRORログまたはWARNログを出力する。
    - スレッドを異常終了させる場合はERRORログ

