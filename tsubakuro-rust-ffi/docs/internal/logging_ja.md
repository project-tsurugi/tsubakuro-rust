# tsubakuro-rust-ffi ロギング方針

tsubakuro-rust-ffiのログ出力の方針は以下の通りとする。

## 依存ライブラリー

- ログ出力にはlogクレートを使用する。
- 他言語からログ出力を制御するために、ログ出力の実装としてenv_loggerを含める。

## ログレベル

- 他言語から呼ばれるFFI関数では、開始・終了時にTRACEログを出力する。
  - 開始時のログには渡された引数の値（ポインター）を出力する。
  - 終了時のログにはエラーの有無および返り値の値（ポインター）を出力する。
    - オブジェクトの解放の必要が無い値については、丸括弧で囲んで出力する。

FFI関数が正しく扱われていれば、関数終了時のログに出力された返り値のハンドル（ポインター）に対して、対応するdispose関数開始時のログにその値（ハンドル）が出力されることになる。